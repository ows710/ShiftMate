<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <w2:type>DEFAULT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
            <xf:instance>
                <data xmlns=""/>
            </xf:instance>
            <w2:dataCollection baseNode="map">
                <w2:dataMap baseNode="map" id="dmp_nurseVo">
                    <w2:keyInfo>
                        <w2:key id="nurseId" name="Í∞ÑÌò∏ÏÇ¨ID" dataType="text"></w2:key>
                        <w2:key id="nurseName" name="Í∞ÑÌò∏ÏÇ¨Î™Ö" dataType="text"></w2:key>
                        <w2:key id="position" name="ÏßÅÍ∏â" dataType="text"></w2:key>
                        <w2:key id="career" name="Í≤ΩÎ†•" dataType="text"></w2:key>
                        <w2:key id="specialNote" name="ÌäπÏù¥ÏÇ¨Ìï≠" dataType="text"></w2:key>
                        <w2:key id="scNurseName" name="Í≤ÄÏÉâ_Í∞ÑÌò∏ÏÇ¨Î™Ö" dataType="text"></w2:key>
                        <w2:key id="scPosition" name="Í≤ÄÏÉâ_ÏßÅÍ∏â" dataType="text"></w2:key>
                        <w2:key id="pageIndex" name="ÌéòÏù¥ÏßÄÎ≤àÌò∏" dataType="text"></w2:key>
                        <w2:key id="pageSize" name="ÌéòÏù¥ÏßÄÌÅ¨Í∏∞" dataType="text"></w2:key>
                    </w2:keyInfo>
                </w2:dataMap>
                <w2:dataList baseNode="list" repeatNode="map" id="dlt_nurseList" saveRemovedData="true">
                    <w2:columnInfo>
                        <w2:column id="nurseId" name="Í∞ÑÌò∏ÏÇ¨ID" dataType="text"></w2:column>
                        <w2:column id="nurseName" name="Í∞ÑÌò∏ÏÇ¨Î™Ö" dataType="text"></w2:column>
                        <w2:column id="position" name="ÏßÅÍ∏â" dataType="text"></w2:column>
                        <w2:column id="career" name="Í≤ΩÎ†•" dataType="text"></w2:column>
                        <w2:column id="specialNote" name="ÌäπÏù¥ÏÇ¨Ìï≠" dataType="text"></w2:column>
                        <w2:column id="regDate" name="Îì±Î°ùÏùº" dataType="text"></w2:column>
                        <w2:column id="modDate" name="ÏàòÏ†ïÏùº" dataType="text"></w2:column>
                        <w2:column id="useYn" name="ÏÇ¨Ïö©Ïó¨Î∂Ä" dataType="text"></w2:column>
                        <w2:column id="delYn" name="ÏÇ≠Ï†úÏó¨Î∂Ä" dataType="text"></w2:column>
                    </w2:columnInfo>
                </w2:dataList>
            </w2:dataCollection>
            <w2:workflowCollection></w2:workflowCollection>
            <xf:submission id="sbm_selectNurseList" ref='data:json,{"id":"dmp_nurseVo","key":"nurseVo"}' target="" action="/InsWebApp/nurse/list.pwkjson" method="post"
                mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
                processMsg="Í∞ÑÌò∏ÏÇ¨ Î™©Î°ùÏùÑ Ï°∞Ìöå Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_selectNurseList_submitdone" ev:submiterror="" abortTrigger="">
            </xf:submission>
            <xf:submission id="sbm_selectNurse" ref='data:json,{"id":"dmp_nurseVo","key":"nurseVo"}' target="" action="/InsWebApp/nurse/view.pwkjson" method="post"
                mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
                processMsg="Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Î•º Ï°∞Ìöå Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_selectNurse_submitdone" ev:submiterror="" abortTrigger="">
            </xf:submission>
            <xf:submission id="sbm_insertNurse" ref='data:json,{"id":"dmp_nurseVo","key":"nurseVo"}' target="" action="/InsWebApp/nurse/insert.pwkjson" method="post"
                mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
                processMsg="Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Î•º Îì±Î°ù Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_insertNurse_submitdone" ev:submiterror="" abortTrigger="">
            </xf:submission>
            <xf:submission id="sbm_updateNurse" ref='data:json,{"id":"dmp_nurseVo","key":"nurseVo"}' target="" action="/InsWebApp/nurse/update.pwkjson" method="post"
                mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
                processMsg="Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Î•º ÏàòÏ†ï Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_updateNurse_submitdone" ev:submiterror="" abortTrigger="">
            </xf:submission>
            <xf:submission id="sbm_deleteNurse" ref='data:json,{"id":"dmp_nurseVo","key":"nurseVo"}' target="" action="/InsWebApp/nurse/delete.pwkjson" method="post"
                mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
                processMsg="Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Î•º ÏÇ≠Ï†ú Ï§ëÏûÖÎãàÎã§." ev:submit="" ev:submitdone="scwin.sbm_deleteNurse_submitdone" ev:submiterror="" abortTrigger="">
            </xf:submission>
        </xf:model>
        <w2:layoutInfo>
        </w2:layoutInfo>
        <w2:publicInfo>
        </w2:publicInfo>
        <script type="text/javascript" lazy="false"><![CDATA[
        
        scwin.onpageload = function(e) {
            // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞ ÏÑ§Ï†ï
            dmp_nurseVo.set("pageIndex", 1);
            dmp_nurseVo.set("pageSize", 10);
            
            // Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù Ï°∞Ìöå
            scwin.fn_selectNurseList();
        };
        
        scwin.onpageunload = function() {
            // ÌéòÏù¥ÏßÄ ÏóÖÎ°úÎìú Ïãú Ï≤òÎ¶¨
        };
        
        // Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù Ï°∞Ìöå
        scwin.fn_selectNurseList = function() {
            $p.executeSubmission("sbm_selectNurseList");
        };
        
        // Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù Ï°∞Ìöå ÏôÑÎ£å
        scwin.sbm_selectNurseList_submitdone = function(e) {
            if (e.responseJSON.success) {
                var result = e.responseJSON.result;
                dlt_nurseList.setJSON(result.nurseList);
                
                // ÌéòÏù¥ÏßÄ Ï†ïÎ≥¥ ÏÑ§Ï†ï
                if (result.totalCount > 0) {
                    $p.log("Ï¥ù " + result.totalCount + "Í±¥Ïùò Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä Ï°∞ÌöåÎêòÏóàÏäµÎãàÎã§.");
                } else {
                    $p.log("Ï°∞ÌöåÎêú Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.");
                }
            } else {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + e.responseJSON.message);
            }
        };
        
        // Í∞ÑÌò∏ÏÇ¨ ÏÉÅÏÑ∏ Ï°∞Ìöå ÏôÑÎ£å
        scwin.sbm_selectNurse_submitdone = function(e) {
            if (e.responseJSON.success) {
                var nurseInfo = e.responseJSON.result.nurseVo;
                dmp_nurseVo.setJSON(nurseInfo);
                $p.log("Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä Ï°∞ÌöåÎêòÏóàÏäµÎãàÎã§.");
            } else {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥ Ï°∞ÌöåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + e.responseJSON.message);
            }
        };
        
        // Í∞ÑÌò∏ÏÇ¨ Îì±Î°ù ÏôÑÎ£å
        scwin.sbm_insertNurse_submitdone = function(e) {
            if (e.responseJSON.success) {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä Îì±Î°ùÎêòÏóàÏäµÎãàÎã§.");
                scwin.fn_clearForm();
                scwin.fn_selectNurseList();
            } else {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Îì±Î°ùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + e.responseJSON.message);
            }
        };
        
        // Í∞ÑÌò∏ÏÇ¨ ÏàòÏ†ï ÏôÑÎ£å
        scwin.sbm_updateNurse_submitdone = function(e) {
            if (e.responseJSON.success) {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.");
                scwin.fn_selectNurseList();
            } else {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ ÏàòÏ†ïÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + e.responseJSON.message);
            }
        };
        
        // Í∞ÑÌò∏ÏÇ¨ ÏÇ≠Ï†ú ÏôÑÎ£å
        scwin.sbm_deleteNurse_submitdone = function(e) {
            if (e.responseJSON.success) {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Í∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");
                scwin.fn_clearForm();
                scwin.fn_selectNurseList();
            } else {
                $p.alert("Í∞ÑÌò∏ÏÇ¨ ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: " + e.responseJSON.message);
            }
        };
        
        // Í≤ÄÏÉâ Î≤ÑÌäº ÌÅ¥Î¶≠
        scwin.btn_search_onclick = function() {
            dmp_nurseVo.set("pageIndex", 1);
            scwin.fn_selectNurseList();
        };
        
        // Ï¥àÍ∏∞Ìôî Î≤ÑÌäº ÌÅ¥Î¶≠
        scwin.btn_reset_onclick = function() {
            scwin.fn_clearForm();
            scwin.fn_selectNurseList();
        };
        
        // Îì±Î°ù Î≤ÑÌäº ÌÅ¥Î¶≠
        scwin.btn_insert_onclick = function() {
            if (scwin.fn_validateForm()) {
                $p.executeSubmission("sbm_insertNurse");
            }
        };
        
        // ÏàòÏ†ï Î≤ÑÌäº ÌÅ¥Î¶≠
        scwin.btn_update_onclick = function() {
            if (scwin.fn_validateForm()) {
                $p.executeSubmission("sbm_updateNurse");
            }
        };
        
        // ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠
        scwin.btn_delete_onclick = function() {
            if (dmp_nurseVo.get("nurseId")) {
                if (confirm("ÏÑ†ÌÉùÌïú Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?")) {
                    $p.executeSubmission("sbm_deleteNurse");
                }
            } else {
                $p.alert("ÏÇ≠Ï†úÌï† Í∞ÑÌò∏ÏÇ¨Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");
            }
        };
        
        // Í∑∏Î¶¨Îìú Ìñâ ÌÅ¥Î¶≠
        scwin.grd_nurseList_oncellclick = function(row, col) {
            var nurseId = dlt_nurseList.getCellData(row, "nurseId");
            if (nurseId) {
                dmp_nurseVo.set("nurseId", nurseId);
                $p.executeSubmission("sbm_selectNurse");
            }
        };
        
        // Ìèº Í≤ÄÏ¶ù
        scwin.fn_validateForm = function() {
            var nurseName = dmp_nurseVo.get("nurseName");
            var position = dmp_nurseVo.get("position");
            
            if (!nurseName || nurseName.trim() === "") {
                $p.alert("Í∞ÑÌò∏ÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");
                return false;
            }
            
            if (!position || position.trim() === "") {
                $p.alert("ÏßÅÍ∏âÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");
                return false;
            }
            
            return true;
        };
        
        // Ìèº Ï¥àÍ∏∞Ìôî
        scwin.fn_clearForm = function() {
            dmp_nurseVo.set("nurseId", "");
            dmp_nurseVo.set("nurseName", "");
            dmp_nurseVo.set("position", "");
            dmp_nurseVo.set("career", "");
            dmp_nurseVo.set("specialNote", "");
            dmp_nurseVo.set("scNurseName", "");
            dmp_nurseVo.set("scPosition", "");
        };
        
        // ÏóëÏÖÄ Îã§Ïö¥Î°úÎìú
        scwin.btn_excel_onclick = function() {
            var fileName = "Í∞ÑÌò∏ÏÇ¨Î™©Î°ù_" + new Date().toISOString().slice(0,10).replace(/-/g,"") + ".xlsx";
            grd_nurseList.exportExcel(fileName);
        };
        
        ]]></script>
    </head>
    <body>
        <xf:group class="sub_contents">
            <xf:group class="header_area">
                <w2:textbox class="header_title" id="txt_title" label="Í∞ÑÌò∏ÏÇ¨ Í¥ÄÎ¶¨"></w2:textbox>
            </xf:group>
            
            <xf:group class="search_area">
                <xf:group class="search_row">
                    <xf:group class="search_item">
                        <w2:textbox class="search_label" id="lbl_nurseName_search" label="Í∞ÑÌò∏ÏÇ¨Î™Ö"></w2:textbox>
                        <xf:input class="search_input" id="ipt_scNurseName" ref="data:dmp_nurseVo.scNurseName"></xf:input>
                    </xf:group>
                    <xf:group class="search_item">
                        <w2:textbox class="search_label" id="lbl_position_search" label="ÏßÅÍ∏â"></w2:textbox>
                        <xf:input class="search_input" id="ipt_scPosition" ref="data:dmp_nurseVo.scPosition"></xf:input>
                    </xf:group>
                    <xf:group class="search_buttons">
                        <xf:trigger class="btn_search" id="btn_search" type="button" ev:onclick="scwin.btn_search_onclick">
                            <xf:label>üîç Í≤ÄÏÉâ</xf:label>
                        </xf:trigger>
                        <xf:trigger class="btn_reset" id="btn_reset" type="button" ev:onclick="scwin.btn_reset_onclick">
                            <xf:label>üîÑ Ï¥àÍ∏∞Ìôî</xf:label>
                        </xf:trigger>
                    </xf:group>
                </xf:group>
            </xf:group>
            
            <xf:group class="content_area">
                <xf:group class="grid_section">
                    <xf:group class="grid_header">
                        <w2:textbox class="grid_title" id="txt_gridTitle" label="Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù"></w2:textbox>
                        <xf:group class="grid_buttons">
                            <xf:trigger class="btn_excel" id="btn_excel" type="button" ev:onclick="scwin.btn_excel_onclick">
                                <xf:label>üìä ÏóëÏÖÄ</xf:label>
                            </xf:trigger>
                        </xf:group>
                    </xf:group>
                    
                    <w2:gridView class="grid_view" id="grd_nurseList" dataList="data:dlt_nurseList" 
                        style="width:100%;height:300px;" scrollByColumn="false" defaultCellHeight="35" 
                        rowNumVisible="true" ev:oncellclick="scwin.grd_nurseList_oncellclick">
                        <w2:caption id="caption1" value="Í∞ÑÌò∏ÏÇ¨ Î™©Î°ù"></w2:caption>
                        <w2:header id="header1">
                            <w2:row id="row1">
                                <w2:column width="80" inputType="text" style="height:35px" id="column9" value="Í∞ÑÌò∏ÏÇ¨ID" displayMode="label"></w2:column>
                                <w2:column width="120" inputType="text" style="height:35px" id="column1" value="Í∞ÑÌò∏ÏÇ¨Î™Ö" displayMode="label"></w2:column>
                                <w2:column width="100" inputType="text" style="height:35px" id="column2" value="ÏßÅÍ∏â" displayMode="label"></w2:column>
                                <w2:column width="80" inputType="text" style="height:35px" id="column3" value="Í≤ΩÎ†•" displayMode="label"></w2:column>
                                <w2:column width="200" inputType="text" style="height:35px" id="column4" value="ÌäπÏù¥ÏÇ¨Ìï≠" displayMode="label"></w2:column>
                                <w2:column width="100" inputType="text" style="height:35px" id="column5" value="Îì±Î°ùÏùº" displayMode="label"></w2:column>
                                <w2:column width="80" inputType="text" style="height:35px" id="column6" value="ÏÇ¨Ïö©Ïó¨Î∂Ä" displayMode="label"></w2:column>
                            </w2:row>
                        </w2:header>
                        <w2:gBody id="gBody1">
                            <w2:row id="row2">
                                <w2:column width="80" inputType="text" style="height:35px" id="nurseId" value="" displayMode="label"></w2:column>
                                <w2:column width="120" inputType="text" style="height:35px" id="nurseName" value="" displayMode="label"></w2:column>
                                <w2:column width="100" inputType="text" style="height:35px" id="position" value="" displayMode="label"></w2:column>
                                <w2:column width="80" inputType="text" style="height:35px" id="career" value="" displayMode="label"></w2:column>
                                <w2:column width="200" inputType="text" style="height:35px" id="specialNote" value="" displayMode="label"></w2:column>
                                <w2:column width="100" inputType="text" style="height:35px" id="regDate" value="" displayMode="label"></w2:column>
                                <w2:column width="80" inputType="text" style="height:35px" id="useYn" value="" displayMode="label"></w2:column>
                            </w2:row>
                        </w2:gBody>
                    </w2:gridView>
                </xf:group>
                
                <xf:group class="form_section">
                    <xf:group class="form_header">
                        <w2:textbox class="form_title" id="txt_formTitle" label="Í∞ÑÌò∏ÏÇ¨ Ï†ïÎ≥¥"></w2:textbox>
                        <xf:group class="form_buttons">
                            <xf:trigger class="btn_insert" id="btn_insert" type="button" ev:onclick="scwin.btn_insert_onclick">
                                <xf:label>‚ûï Îì±Î°ù</xf:label>
                            </xf:trigger>
                            <xf:trigger class="btn_update" id="btn_update" type="button" ev:onclick="scwin.btn_update_onclick">
                                <xf:label>‚úèÔ∏è ÏàòÏ†ï</xf:label>
                            </xf:trigger>
                            <xf:trigger class="btn_delete" id="btn_delete" type="button" ev:onclick="scwin.btn_delete_onclick">
                                <xf:label>üóëÔ∏è ÏÇ≠Ï†ú</xf:label>
                            </xf:trigger>
                        </xf:group>
                    </xf:group>
                    
                    <xf:group class="form_content">
                        <xf:group class="form_row">
                            <xf:group class="form_item">
                                <w2:textbox class="form_label" id="lbl_nurseId" label="Í∞ÑÌò∏ÏÇ¨ID"></w2:textbox>
                                <xf:input class="form_input" id="ipt_nurseId" ref="data:dmp_nurseVo.nurseId" readonly="true"></xf:input>
                            </xf:group>
                            <xf:group class="form_item">
                                <w2:textbox class="form_label required" id="lbl_nurseName_form" label="Í∞ÑÌò∏ÏÇ¨Î™Ö"></w2:textbox>
                                <xf:input class="form_input" id="ipt_nurseName" ref="data:dmp_nurseVo.nurseName"></xf:input>
                            </xf:group>
                        </xf:group>
                        
                        <xf:group class="form_row">
                            <xf:group class="form_item">
                                <w2:textbox class="form_label required" id="lbl_position_form" label="ÏßÅÍ∏â"></w2:textbox>
                                <xf:input class="form_input" id="ipt_position" ref="data:dmp_nurseVo.position"></xf:input>
                            </xf:group>
                            <xf:group class="form_item">
                                <w2:textbox class="form_label" id="lbl_career" label="Í≤ΩÎ†•"></w2:textbox>
                                <xf:input class="form_input" id="ipt_career" ref="data:dmp_nurseVo.career"></xf:input>
                            </xf:group>
                        </xf:group>
                        
                        <xf:group class="form_row">
                            <xf:group class="form_item full_width">
                                <w2:textbox class="form_label" id="lbl_specialNote" label="ÌäπÏù¥ÏÇ¨Ìï≠"></w2:textbox>
                                <xf:textarea class="form_textarea" id="txt_specialNote" ref="data:dmp_nurseVo.specialNote" rows="3"></xf:textarea>
                            </xf:group>
                        </xf:group>
                    </xf:group>
                </xf:group>
            </xf:group>
        </xf:group>
        
        <w2:linkStyleSheet href="/InsWebApp/src/main/webapp/css/nurse.css"/>
    </body>
</html>